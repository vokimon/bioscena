%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Els organismes}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Visió externa dels organismes}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Externament, sigui quina sigui la estructura interna de l'organisme,
ha de proveir a biosistema els següents serveis.

\begin{itemize}
\item
L'organisme ha d'anar proveint al biosistema de instruccions que
l'indiquin les seves accions. Com es generen les instruccions és
qüestió dels propis organismes.
\item
L'organisme proveeix al biosistema un conjunt de registres que formen
el seu fenotip. El biosistema pot modificar-los i consultar-los
segons ho requereixin les instruccions d'aquest o d'altres
organismes.
\item
L'organisme ha d'implementar unes funcions vitals que modifiquin
l'estat intern\footnote{L'estat intern no inclou, per exemple, canvis
de posició, donat que són dades que no són intrínseques al propi
organisme, sinó que són el resultat de la seva integració en el
biosistema. Aquest altre tipus de dades les controla la Comunitat.}
de l'organisme. El biosistema ha de proporcionar tots els paràmetres
que necessitin les funcions vitals, inclosos els que, segurament,
provinguin de valors del fenotip.
\item
També han d'implementar operadors per tal de crear nous organismes a
partir d'altres i organismes aleatoris.

\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Model metabòlic dels organismes}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{figure}[h]
\centering
\begin{tabular}{@{\extracolsep{.1 cm}}c@{\extracolsep{.1 cm}}c@{\extracolsep{.1 cm}}c@{\extracolsep{.1 cm}}c@{\extracolsep{-.1 cm}}c@{\extracolsep{.1 cm}}c@{\extracolsep{.1 cm}}c@{\extracolsep{.1 cm}}c@{\extracolsep{.1 cm}}}
    \begin{tabular}{|c|}
    \hline Medi\\ \hline
    \end{tabular}
    &
    \begin{tabular}{c}
        \\ excreció
        \\ $\leftarrow$
        \\ $\rightarrow$
        \\ ingestió
    \end{tabular}
    &
    \begin{tabular}{|c|}
    \hline Enmagatzem\\ de nutrients\\ \hline
    \end{tabular}
    &
    \begin{tabular}{c}
        \\ productes
        \\ $\leftarrow$
        \\ $\rightarrow$
        \\ reactius
    \end{tabular}
    &
    \begin{tabular}{|c|}
    \hline Reaccions\\ metabòliques\\ \hline
    \end{tabular}
    &
    \begin{tabular}{c}
        \\ endotèrmiques
        \\ $\leftarrow$
        \\ $\rightarrow$
        \\ exotèrmiques
    \end{tabular}
    &
    \begin{tabular}{|c|}
    \hline Energia\\ útil\\ \hline
    \end{tabular}
    &
    \begin{tabular}{c}
        \\ disipació
        \\ $\rightarrow$
        \\ $\rightarrow$
        \\ funcions
        \\ vitals
    \end{tabular}
\end{tabular}
    \caption{Model metabòlic dels organismes a Bioscena}
    \label{fig:modelMetabolic}
\end{figure}

Dintre de l'organisme hi ha dos formes de tenir l'energia:
\begin{itemize}
\item En forma d'energia útil.
\item En forma de nutrients.
\end{itemize}

No podem passar d'una a l'altre, si no és mitjançant un procés
metabòlic. Per un costat, l'energia útil és l'única que pot fer-se
servir a la majoria de processos vitals. Per un altre, aquesta
energia útil té una caducitat de forma que, quan passa un cert temps
de la seva obtenció, es disipa. La figura \ref{fig:modelMetabolic}
indica els camins que poden fer els nutrients dins de l'organisme.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Presa de nutrients}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Com s'ha explicat a la secció \ref{sec:biotop}, els nutrients tenen
un identificador o patró qualitatiu que indica quin tipus de nutrient
és. Per seleccionar un nutrient dins d'un grup, només cal oferir una
clau o patró de cerca i una tolerància respecte a aquest patró.

Per introduir un nutrient dins del seu cos, un organisme només té que
precissar el lloc d'on vol extreure-ho (un substrat o un altre
organisme a una posició determinada), si existeix l'element que
compli aquest requisit i es donen totes les altres condicions
necessàries, el nutrient és introduït al interior de l'organisme.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Metabolisme}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Un cop els nutrients estan dins de l'organisme, pot metabolitzar-los,
amb l'objectiu d'obtindre energia, un producte resultant o totes dues
coses. Els productes resultants es poden fer servir per una altra
reacció, per mantenir-ho de reserva, o per excretar-ho.

L'organisme pot fer ús de l'energia que s'obté de les reaccions
durant un temps limitat, si no es consumeix dintre d'aquest temps,
aquesta es disipa. Això es fa perquè els nutrients

Es preten que les diferents circumstàncies permetin que hi hagi un
equilibri

Pot ser, una espècie tendeix a acomular masses nutrients. Si això
passes, els seus depredadors tenderien a augmentar en nombre
d'organismes i en nombre d'espècies.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Excreció}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Tant els nutrients introduïts recentment, com els nutrients que són
productes d'una reacció química poden ser excretats per l'organisme.
Les oportunitats que donem a l'evolució amb aquest mecanisme són molt
diverses.
\begin{itemize}
\item Treure a fora els nutrients que ja ens fan més nosa que servei.
\item Proporcionar a la descendència nutrients via excreció.
\item Detectar als membres d'una espècie o el seu estat per les
mol·lecules excretades.
\item ...
\end{itemize}

El caracter obert que poden adoptar les soluccions dels organismes
implica que la llista anterior pot no ser tancada, o pot ser els
organismes no arribin a cap dels punts anteriors.

Els nutrients excretats s'indiquen amb un element bàsic i una
tolerància. Es fa una cerca, amb la funció de compatibilitat, dins
dels nutrients que hi ha a l'interior de l'organisme.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Atac i defensa}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Model genètic dels organismes}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Trets generals}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

En aquest projecte, estan diferenciats els conceptes de cariotip i
genotip. El cariotip, simplement és un seguit de dades,
significatives o no, organitzades en cromosomes. El genotip és la
interpretació de la informació útil que s'hi troba al cariotip i està
organitzada en gens.

Si els cromosomes que formen el cariotip són unitats estructurals del
codi genètic, els gens que formen el genotip en són les seves unitats
funcionals. Aquest divisió té les següents justificacions:
\begin{enumerate}
\item Permet un model multicromosómic, amb un nombre i longitud de
cromosomes variable.
\item Permet implementar, sobre els cromosomes, operadors de
mutació i creuament planers.
\item La traducció de cariotip a fenotip, ens permet detectar
promotors i terminadors, proporcionar operadors, eliminar introns...
facilitant d'aquesta forma l'implementació d'aquests fenòmens.
\item És més semblant al comportament biològic.
\end{enumerate}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{El cariotip i els cromosomes}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Cada organisme conté un nombre variable de {\bf
cromosomes}\index{cromosoma!segons aquest projecte} que, en conjunt,
formen el {\bf cariotip}\index{cariotip!segons aquest projecte}. Cada
cromosoma està format per una seqüència de bases representada
cadascuna amb un bit o un grup de bits.

Tot i que la unitat bàsica del cromosoma és la base (un conjunt
reduït de bits), a la implementació, no es considera aquesta unitat
més que per a fer algun tipus de mutació puntual. Per a la resta de
manipulacions ho farem a nivell de codó, donat que no fa falta
arribar a nivell de base i és més òptim accedir-hi. En aquesta
representació, un codó coincideix amb una paraula doble (32 bits).

El cromosoma, com a tal, no és una unitat d'informació sinò un medi
on estan les dades genètiques. És un medi que pot tenir errors i
provocar mutacions. Dins d'un organisme, la tasa de mutació de cada
cromosoma és proporcional a la seva longitud.

El cariotip és el responsable de les mutacions germinals (en
contraposició a les somàtiques, com es va comentar a la secció
\ref{mutacioMolecular}), és a dir, les mutacions que passaran a la
descendència.

Tot i que la probabilitat de mutació ha de dependre, en gran mesura,
dels agens mutagens del medi, els organismes han de poder controlar
genèticament la probabilitat de mutació per adaptar-la a la seva
situació. En posar en mans de l'evolució la probabilitat de mutar
estem confiant en que l'coevolució castigarà els organismes que no
mutin en front dels que mutin doncs els primers no podran millorar.

El control sobre la probabilitat de mutació d'un organisme es fa amb
una clau que té el propi organisme. Aquesta clau es pot adaptar, en
major o menor mesura, al llarg del procés evolutiu, a una
d'equivalent que hi ha a cada posició del substrat.

TODO: Cal clarificar més com determinar la probabilitat de mutació.

Un cop es dóna, a un organisme, la probabilitat de mutar, cal decidir
com es fa la mutació, es a dir, amb quin operador de mutació es fa.
Cada organisme té codificada genèticament una ponderació per a cada
operador de mutació.
\begin{equation}
  Probabilitat (operador_i) = {{ponderacio_i}\over\sum_j{ponderacio_j}}
  \label{eq:ponderacioOperadors}
\end{equation}

%% TODO: On es codifica la ponderació pels operadors de mutació

Una mutació és cromosòmica si afecta a diversos cromosomes alhora,
sent llavors el cariotip el responsable d'executar-la. O bé, si la
mutació és gènica o biomol·lecular, afectarà nomes a un sól
cromosoma. En aquest cas el cariotip li traspassa la responsabilitat
a un cromosoma per que muti. Com decidim en quin cromosoma aplicarem
la mutació? Ho farem mitjançant una formula com la de la equació
\ref{eq:ponderacioOperadors}, pero en comptes de tenir en compte una
ponderació codificada genèticament, tindrem en compta la longitud del
cromosoma en front de la longitud total del cariotip. Així fem que
sigui uniforme la densitat de mutació.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Els gens i el genotip}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

El {\bf genotip}\index{genotip!segons aquest projecte} és la
traducció del cariotip a elements significatius. Aquests elements
significatius s'agrupen en {\bf gens}\index{gen!segons aquest
projecte}, que s'interpreten a partir dels codons del cromosoma.

Cada gen té una zona operadora\index{zona operadora} que activa o
desactiva el gen segons certa condició que depen del fenotip o
indirectament, mitjançant el fenotip, del món exterior.

La zona estructural (seguint de forma aproximada la nomenclatura de
Jacob i Monod) és la que es veu controlada per la zona operadora. En
ella estan la informació (instruccions) que s'executaran si la zona
operadora ho permet.

En resum, la transcripció del cromosoma en gens constarà de diverses
parts:
\begin{enumerate}
\item Indentificació de la zona promotora (indica l'inici d'un
locus)
\item Indentificació de la zona terminadora corresponent (indica
el final d'un locus)
\item Identificació (justament després de la zona promotora) i
interpretació de la zona operadora (indicarà quan cal executar el gen
traduït).
\item Eliminació d'introns (sequencies de codons no significatius) entre
promotora i terminadora
\item Traducció de la zona estructural (la que porta les instruccions
que s'executaran amb el gen)
\end{enumerate}

Per raons d'optimització, aquesta transcripció es fa només una vegada
durant la vida de l'organisme, encara que, a la natura, la
transcripció de l'ADN es fa contínuament. Això no té implicacions
massa importants, donat que ens guardem el significat de la zona
operadora que ens serveix per simular el comportament temporal de la
transcripció.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{El fenotip}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

El que anomenem propiament {\em fenotip}\index{fenotip!segons aquest
projecte} és un conjunt de 32 registres de 32 bits que té cada
organisme. Representen el cos físic de l'organisme.

El fenotip es modifica per acció directa del genotip. Sovint, si es
tracta d'operacions sensorials, aquestes modificacions depenen del
medi o de l'estat intern. Les operacions també poden ser motores, i
en aquest cas el contingut del fenotip és qui afecta al medi i/o a
l'estat intern. En resum, tenim els següents grups d'instruccions
segons el seu efecte sobre el fenotip, el medi i l'estat intern:

\begin{description}
\item[Instruccions d'operador:] Controlen quines instruccions
s'executen segons l'estat del fenotip.
\item[Instruccions motores:] Modifiquen el medi i/o l'estat intern en
funció de paràmetres codificats al fenotip.
\item[Instruccions sensores:] Introdueixen, dins del fenotip, informació del
medi i/o de l'estat intern de l'organisme. L'execució de instruccions
sensores també depenen de paràmetres que es troben codificats al
fenotip.
\item[Instruccions fenotípiques:] Modifiquen el fenotip sense que en
depengui d'altre cosa que el fenotip i la instrucció executada.
\end{description}

Per últim, cal remarcar que el fenotip és un dels dos mitjans que
tènen els organismes per reconeixer-se, juntament amb la detecció de
mol·lècules excretades. Hi ha instruccions sensores el resultat de
les quals depén del fenotip de l'organisme que es troba a una posició
relativa.

En resum, el fenotip és el mecanisme principal d'interacció que tenen
els organismes.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\subsubsection{Sensors i motors}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Operacions sobre l'estat intern}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

TODO: Descriure les operacions sobre l'estat intern

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Conjunt d'instruccions}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

TODO: Descriure el conjunt d'instruccions (i com s'executen?)

TODO: Posar a algun lloc el tema de les mutacions somàtiques


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
